vsMatch [] emptyBinding b0 b0 (S.fromList [cs1,cl1,cs2,cl2,cs3,cl3,cs4,cl4]) (S.fromList [ps1,pl1,ps2,pl2,ps3,pl3,ps4,pl4])

{ (pl1$.𝓞) ↦ ⟨⟩, (pl2$.𝓞) ↦ ⟨⟩, (pl3$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl4$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩ }


nub of list outcome
{ (pl1$.𝓞) ↦ ⟨⟩, (pl2$.𝓞) ↦ ⟨⟩, (pl3$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl4$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨⟩, (pl2$.𝓞) ↦ ⟨c̅l̅1̅⟩, (pl3$.𝓞) ↦ ⟨c̅l̅2̅⟩, (pl4$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨⟩, (pl2$.𝓞) ↦ ⟨c̅l̅1̅⟩, (pl3$.𝓞) ↦ ⟨c̅l̅2̅,c̅l̅3̅⟩, (pl4$.𝓞) ↦ ⟨c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨⟩, (pl2$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl3$.𝓞) ↦ ⟨⟩, (pl4$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨⟩, (pl2$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl3$.𝓞) ↦ ⟨c̅l̅3̅⟩, (pl4$.𝓞) ↦ ⟨c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨⟩, (pl2$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl3$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩, (pl4$.𝓞) ↦ ⟨⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅⟩, (pl2$.𝓞) ↦ ⟨⟩, (pl3$.𝓞) ↦ ⟨c̅l̅2̅⟩, (pl4$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅⟩, (pl2$.𝓞) ↦ ⟨⟩, (pl3$.𝓞) ↦ ⟨c̅l̅2̅,c̅l̅3̅⟩, (pl4$.𝓞) ↦ ⟨c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅⟩, (pl2$.𝓞) ↦ ⟨c̅l̅2̅⟩, (pl3$.𝓞) ↦ ⟨⟩, (pl4$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩ }

{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅⟩, (pl2$.𝓞) ↦ ⟨c̅l̅2̅⟩, (pl3$.𝓞) ↦ ⟨c̅l̅3̅⟩, (pl4$.𝓞) ↦ ⟨c̅l̅4̅⟩ }

{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅⟩, (pl2$.𝓞) ↦ ⟨c̅l̅2̅⟩, (pl3$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩, (pl4$.𝓞) ↦ ⟨⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅⟩, (pl2$.𝓞) ↦ ⟨c̅l̅2̅,c̅l̅3̅⟩, (pl3$.𝓞) ↦ ⟨⟩, (pl4$.𝓞) ↦ ⟨c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅⟩, (pl2$.𝓞) ↦ ⟨c̅l̅2̅,c̅l̅3̅⟩, (pl3$.𝓞) ↦ ⟨c̅l̅4̅⟩, (pl4$.𝓞) ↦ ⟨⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl2$.𝓞) ↦ ⟨⟩, (pl3$.𝓞) ↦ ⟨⟩, (pl4$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl2$.𝓞) ↦ ⟨⟩, (pl3$.𝓞) ↦ ⟨c̅l̅3̅⟩, (pl4$.𝓞) ↦ ⟨c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl2$.𝓞) ↦ ⟨⟩, (pl3$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩, (pl4$.𝓞) ↦ ⟨⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl2$.𝓞) ↦ ⟨c̅l̅3̅⟩, (pl3$.𝓞) ↦ ⟨⟩, (pl4$.𝓞) ↦ ⟨c̅l̅4̅⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl2$.𝓞) ↦ ⟨c̅l̅3̅⟩, (pl3$.𝓞) ↦ ⟨c̅l̅4̅⟩, (pl4$.𝓞) ↦ ⟨⟩ }
{ (pl1$.𝓞) ↦ ⟨c̅l̅1̅,c̅l̅2̅⟩, (pl2$.𝓞) ↦ ⟨c̅l̅3̅,c̅l̅4̅⟩, (pl3$.𝓞) ↦ ⟨⟩, (pl4$.𝓞) ↦ ⟨⟩ }

expected:

BD (fromList [((Id "ps1",VO),BI (Id "cs1"))
             ,((Id "ps2",VO),BI (Id "cs2"))
             ,((Id "ps3",VO),BI (Id "cs3"))
             ,((Id "ps4",VO),BI (Id "cs4"))]
    ,fromList []
    ,fromList [
       ((Id "pl1",VO,[],[]),BS (fromList [GL (LV (VR (Id "cl1",VO,WB),[],[]))]))
      ,((Id "pl2",VO,[],[]),BS (fromList [GL (LV (VR (Id "cl2",VO,WB),[],[]))]))
      ,((Id "pl3",VO,[],[]),BS (fromList [GL (LV (VR (Id "cl3",VO,WB),[],[]))]))
      ,((Id "pl4",VO,[],[]),BS (fromList [GL (LV (VR (Id "cl4",VO,WB),[],[]))]))])

 but got:

BD (fromList [((Id "ps1",VO),BI (Id "cs1"))
             ,((Id "ps2",VO),BI (Id "cs2"))
             ,((Id "ps3",VO),BI (Id "cs3"))
             ,((Id "ps4",VO),BI (Id "cs4"))]
   ,fromList []
   ,fromList [
       ((Id "pl1",VO,[],[]),BL [GL (LV (VR (Id "cl1",VO,WB),[],[]))])
      ,((Id "pl2",VO,[],[]),BL [GL (LV (VR (Id "cl2",VO,WB),[],[]))])
      ,((Id "pl3",VO,[],[]),BL [GL (LV (VR (Id "cl3",VO,WB),[],[]))])
      ,((Id "pl4",VO,[],[]),BL [GL (LV (VR (Id "cl4",VO,WB),[],[]))])])

--
